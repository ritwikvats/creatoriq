(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{7681:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(12349).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11139:(e,s,t)=>{Promise.resolve().then(t.bind(t,78527))},20685:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(12349).A)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},26414:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(12349).A)("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]])},29287:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(12349).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},54201:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(12349).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},68478:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(12349).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},78527:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(77584),r=t(83868),l=t(350),i=t(26414);let n=(0,t(12349).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var d=t(29287),c=t(60225),o=t(20685);function x(e){let{userId:s,onSuccess:t,onCancel:l}=e,[x,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)({source:"brand_deal",amount:"",date:new Date().toISOString().split("T")[0],description:"",platform:"youtube",gst_applicable:!1}),u=async e=>{if(e.preventDefault(),s){m(!0);try{(await fetch("".concat("https://creatoriq-axxp.onrender.com","/revenue"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,user_id:s,amount:parseFloat(h.amount)})})).ok?t():console.error("Failed to save revenue")}catch(e){console.error("Error saving revenue:",e)}finally{m(!1)}}};return(0,a.jsxs)("form",{onSubmit:u,className:"p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:(0,a.jsx)(i.A,{className:"w-6 h-6 text-primary-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-dark-800",children:"Add Revenue Entry"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-dark-700 flex items-center gap-2",children:[(0,a.jsx)(n,{className:"w-4 h-4"}),"Source"]}),(0,a.jsxs)("select",{value:h.source,onChange:e=>p({...h,source:e.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",required:!0,children:[(0,a.jsx)("option",{value:"brand_deal",children:"Brand Deal"}),(0,a.jsx)("option",{value:"adsense",children:"YouTube AdSense"}),(0,a.jsx)("option",{value:"subscription",children:"Subscriptions / Memberships"}),(0,a.jsx)("option",{value:"merchandise",children:"Merchandise"}),(0,a.jsx)("option",{value:"affiliate",children:"Affiliate Commission"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-dark-700 flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"w-4 h-4"}),"Amount (₹)"]}),(0,a.jsx)("input",{type:"number",placeholder:"0.00",value:h.amount,onChange:e=>p({...h,amount:e.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-dark-700 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),"Date Recieved"]}),(0,a.jsx)("input",{type:"date",value:h.date,onChange:e=>p({...h,date:e.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-semibold text-dark-700",children:"Platform"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex-1 flex items-center justify-center p-2 rounded-lg border cursor-pointer transition-all ".concat("youtube"===h.platform?"bg-primary-50 border-primary-500 text-primary-700":"bg-gray-50 border-gray-200"),children:[(0,a.jsx)("input",{type:"radio",name:"platform",value:"youtube",className:"hidden",checked:"youtube"===h.platform,onChange:()=>p({...h,platform:"youtube"})}),"YouTube"]}),(0,a.jsxs)("label",{className:"flex-1 flex items-center justify-center p-2 rounded-lg border cursor-pointer transition-all ".concat("instagram"===h.platform?"bg-primary-50 border-primary-500 text-primary-700":"bg-gray-50 border-gray-200"),children:[(0,a.jsx)("input",{type:"radio",name:"platform",value:"instagram",className:"hidden",checked:"instagram"===h.platform,onChange:()=>p({...h,platform:"instagram"})}),"Instagram"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-semibold text-dark-700 flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),"Description (Brand Name, Campaign, etc.)"]}),(0,a.jsx)("textarea",{rows:3,placeholder:"Describe this income source...",value:h.description,onChange:e=>p({...h,description:e.target.value}),className:"w-full px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 outline-none",required:!0})]}),(0,a.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:(0,a.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:h.gst_applicable,onChange:e=>p({...h,gst_applicable:e.target.checked}),className:"w-5 h-5 rounded text-primary-600 focus:ring-primary-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-bold text-blue-900",children:"GST Invoice"}),(0,a.jsx)("p",{className:"text-xs text-blue-700",children:"Check if you provided a GST invoice for this payment."})]})]})}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:l,className:"flex-1 py-3 border border-gray-200 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:x,className:"flex-1 py-3 bg-primary-600 text-white rounded-xl font-bold hover:bg-primary-700 shadow-lg shadow-primary-200 transition-all flex items-center justify-center gap-2",children:x?(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),"Save Revenue"]})})]})]})}var m=t(69238);function h(e){let{revenue:s,loading:t}=e;return t?(0,a.jsxs)("div",{className:"p-12 flex flex-col items-center justify-center space-y-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 border-4 border-primary-100 border-t-primary-600 rounded-full animate-spin"}),(0,a.jsx)("p",{className:"text-dark-500 font-medium tracking-wide",children:"Fetching your earnings..."})]}):0===s.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(i.A,{className:"w-8 h-8 text-gray-300"})}),(0,a.jsx)("h3",{className:"text-lg font-bold text-dark-800",children:"No revenue entries yet"}),(0,a.jsx)("p",{className:"text-dark-500 max-w-xs mx-auto mt-2",children:'Click the "Add Revenue" button to start tracking your income and taxes.'})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50 text-dark-600 text-xs uppercase tracking-wider font-bold",children:[(0,a.jsx)("th",{className:"px-6 py-4 border-b border-gray-100",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-4 border-b border-gray-100",children:"Source"}),(0,a.jsx)("th",{className:"px-6 py-4 border-b border-gray-100",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-4 border-b border-gray-100",children:"Tax Info"}),(0,a.jsx)("th",{className:"px-6 py-4 border-b border-gray-100 text-right",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-50",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-dark-800 font-medium",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 text-dark-400"}),new Date(e.date).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:"text-dark-800 font-semibold flex items-center gap-2 capitalize",children:[(0,a.jsx)(n,{className:"w-3.5 h-3.5 text-primary-500"}),e.source.replace("_"," ")]}),(0,a.jsx)("span",{className:"text-xs text-dark-500 mt-1 truncate max-w-[200px]",children:e.description})]})}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsxs)("div",{className:"text-dark-800 font-bold text-lg",children:["₹",parseFloat(e.amount).toLocaleString()]}),(0,a.jsx)("div",{className:"text-[10px] text-primary-600 font-bold uppercase tracking-tight px-1.5 py-0.5 bg-primary-50 border border-primary-100 rounded w-fit",children:e.platform})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs w-32",children:[(0,a.jsx)("span",{className:"text-dark-500",children:"GST:"}),(0,a.jsx)("span",{className:e.gst_applicable?"text-green-600 font-bold":"text-gray-400",children:e.gst_applicable?"₹".concat(parseFloat(e.gst_amount||0).toLocaleString()):"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs w-32",children:[(0,a.jsx)("span",{className:"text-dark-500",children:"TDS:"}),(0,a.jsxs)("span",{className:"text-red-500 font-bold",children:["₹",parseFloat(e.tds_deducted||0).toLocaleString()]})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 text-right",children:(0,a.jsx)("button",{className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:(0,a.jsx)(m.A,{className:"w-5 h-5"})})})]},e.id))})]})})}var p=t(54201),u=t(7681),g=t(87255),b=t(68478),y=t(27895);let j="https://creatoriq-axxp.onrender.com";function f(){var e,s,t;let[i,n]=(0,r.useState)([]),[d,c]=(0,r.useState)({total:0,bySource:{},count:0}),[o,m]=(0,r.useState)(!0),[f,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),k=(0,y.U)();(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await k.auth.getUser();e&&(w(e.id),A(e.id))})()},[]);let A=async e=>{m(!0);try{let[s,t]=await Promise.all([fetch("".concat(j,"/revenue/").concat(e)),fetch("".concat(j,"/revenue/").concat(e,"/summary"))]),a=await s.json(),r=await t.json();n(a.revenue||[]),c(r)}catch(e){console.error("Error fetching revenue data:",e)}finally{m(!1)}};return(0,a.jsxs)(l.A,{children:[(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-dark-800",children:"Revenue Tracking"}),(0,a.jsx)("p",{className:"text-dark-600",children:"Monitor your earnings and tax liabilities"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("button",{onClick:()=>{i.length>0&&((e,s)=>{if(0===e.length)return;let t=Object.keys(e[0]),a=new Blob([[t.join(","),...e.map(e=>t.map(s=>{var t;let a=null!=(t=e[s])?t:"";return"string"==typeof a&&a.includes(",")?'"'.concat(a,'"'):a}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){let e=URL.createObjectURL(a);r.setAttribute("href",e),r.setAttribute("download",s),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}})(i,"revenue_report_".concat(new Date().toISOString().split("T")[0],".csv"))},className:"flex items-center gap-2 px-4 py-2 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"Export CSV"]}),(0,a.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"Add Revenue"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-green-50 rounded-lg",children:(0,a.jsx)(g.A,{className:"w-6 h-6 text-green-600"})}),(0,a.jsx)("span",{className:"text-dark-600 text-sm font-medium",children:"Total Revenue"})]}),(0,a.jsxs)("h2",{className:"text-3xl font-bold text-dark-800",children:["₹",null==(e=d.total)?void 0:e.toLocaleString()]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-1 text-green-600 text-sm font-semibold",children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"8.5% from last month"})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-50 rounded-lg",children:(0,a.jsx)(b.A,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsx)("span",{className:"text-dark-600 text-sm font-medium",children:"Avg. Per Month"})]}),(0,a.jsxs)("h2",{className:"text-3xl font-bold text-dark-800",children:["₹",(s=d.total/(d.count||1),s.toLocaleString(void 0,{maximumFractionDigits:0}))]}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-dark-500",children:["Based on ",d.count," entries"]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-50 rounded-lg",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-purple-600 rounded-full flex items-center justify-center text-xs font-bold text-purple-600",children:"%"})}),(0,a.jsx)("span",{className:"text-dark-600 text-sm font-medium",children:"Estimated Taxes"})]}),(0,a.jsxs)("h2",{className:"text-3xl font-bold text-dark-800",children:["₹",(t=.18*d.total,t.toLocaleString(void 0,{maximumFractionDigits:0}))]}),(0,a.jsx)("p",{className:"mt-1 text-xs text-dark-500",children:"Projected GST (18%)"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-dark-800",children:"Recent Entries"})}),(0,a.jsx)("div",{className:"p-0",children:(0,a.jsx)(h,{revenue:i,loading:o})})]})}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-dark-800 mb-6",children:"Revenue Sources"}),(0,a.jsxs)("div",{className:"space-y-4",children:[Object.entries(d.bySource).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm font-medium",children:[(0,a.jsx)("span",{className:"capitalize",children:s.replace("_"," ")}),(0,a.jsxs)("span",{className:"text-dark-800 font-bold",children:[(t/d.total*100).toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(t/d.total*100,"%")}})}),(0,a.jsxs)("div",{className:"text-right text-xs text-dark-500",children:["₹",t.toLocaleString()]})]},s)}),0===Object.keys(d.bySource).length&&(0,a.jsx)("p",{className:"text-dark-500 text-center py-8",children:"No data available yet"})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-primary-600 to-primary-500 p-6 rounded-xl shadow-lg text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,a.jsx)(b.A,{className:"w-5 h-5"})}),(0,a.jsx)("h3",{className:"font-bold",children:"AI Insight"})]}),(0,a.jsx)("p",{className:"text-primary-50 text-sm leading-relaxed mb-4",children:"Your YouTube revenue is up 12% this month. Based on current growth, you might hit the GST threshold (₹20L) by Q3."}),(0,a.jsx)("button",{className:"w-full py-2 bg-white/10 hover:bg-white/20 rounded-lg text-sm font-semibold transition-colors",children:"View Detailed Forecast"})]})]})]})]}),f&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-xl shadow-2xl relative",children:[(0,a.jsx)("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,a.jsx)(x,{userId:N,onSuccess:()=>{v(!1),N&&A(N)},onCancel:()=>v(!1)})]})})]})}}},e=>{e.O(0,[864,693,953,570,426,358],()=>e(e.s=11139)),_N_E=e.O()}]);