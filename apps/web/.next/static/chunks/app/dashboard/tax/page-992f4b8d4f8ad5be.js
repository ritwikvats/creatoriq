(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{350:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var s=a(77584),r=a(83868),l=a(24864),n=a.n(l),i=a(87845),d=a(9482),o=a(96775),c=a(80282),x=a(49551),m=a(92535),h=a(87255),u=a(60225),p=a(60652),g=a(15683),b=a(72660);function f(){let e=(0,i.usePathname)(),t=[{icon:d.A,label:"Dashboard",href:"/dashboard"},{icon:o.A,label:"Brand Deals",href:"/deals"},{icon:c.A,label:"YouTube",href:"/youtube"},{name:"Analytics",href:"/dashboard/analytics",icon:x.A},{name:"Audience",href:"/dashboard/audience",icon:m.A},{name:"Revenue",href:"/dashboard/revenue",icon:h.A},{name:"Tax Reports",href:"/dashboard/tax",icon:u.A},{name:"Settings",href:"/dashboard/settings",icon:p.A}],a=[{name:"YouTube",icon:c.A,connected:!0},{name:"Instagram",icon:g.A,connected:!1}];return(0,s.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 min-h-screen p-6 flex flex-col",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)(n(),{href:"/dashboard",className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-8 h-8 text-primary-600"}),(0,s.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:"CreatorIQ"})]})}),(0,s.jsxs)("nav",{className:"flex-1 space-y-1",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Main Menu"}),t.map(t=>{let a=e===t.href;return(0,s.jsxs)(n(),{href:t.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat(a?"bg-primary-50 text-primary-700 font-semibold":"text-gray-700 hover:bg-gray-50 hover:text-primary-600"),children:[(0,s.jsx)(t.icon,{className:"w-5 h-5"}),t.label||t.name]},t.href)}),(0,s.jsxs)("div",{className:"pt-8",children:[(0,s.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Platforms"}),a.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(e.icon,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:e.name})]}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.connected?"bg-green-500":"bg-gray-300"),title:e.connected?"Connected":"Not connected"})]},e.name))]})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-bold text-primary-700",children:"RV"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:"Ritwik Vats"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"creator@example.com"})]})]}),(0,s.jsxs)(n(),{href:"/login",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 mt-2",children:[(0,s.jsx)(b.A,{className:"w-5 h-5"}),"Logout"]})]})]})}var j=a(85247),N=a(41718);function y(e){let{children:t}=e,[a,l]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"flex bg-gray-50 min-h-screen relative overflow-hidden",children:[(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(f,{})}),a&&(0,s.jsx)("div",{className:"fixed inset-0 bg-dark-900/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>l(!1)}),(0,s.jsxs)("div",{className:"fixed inset-y-0 left-0 w-72 bg-white z-50 transform transition-transform duration-300 ease-in-out md:hidden ".concat(a?"translate-x-0":"-translate-x-full"),children:[(0,s.jsx)("div",{className:"absolute top-4 right-4 text-dark-400 p-2",onClick:()=>l(!1),children:(0,s.jsx)(j.A,{className:"w-6 h-6"})}),(0,s.jsx)(f,{})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[(0,s.jsxs)("header",{className:"flex md:hidden items-center justify-between px-6 py-4 bg-white border-b border-gray-100 flex-shrink-0",children:[(0,s.jsxs)(n(),{href:"/dashboard",className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-7 h-7 text-primary-600"}),(0,s.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-primary-400 bg-clip-text text-transparent",children:"CreatorIQ"})]}),(0,s.jsx)("button",{onClick:()=>l(!0),className:"p-2 text-dark-600 hover:bg-gray-50 rounded-lg",children:(0,s.jsx)(N.A,{className:"w-6 h-6"})})]}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto w-full custom-scrollbar",children:t})]})]})}},7968:(e,t,a)=>{Promise.resolve().then(a.bind(a,24480))},24480:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(77584),r=a(83868),l=a(350),n=a(27895),i=a(23377),d=a(54201),o=a(7141),c=a(2098),x=a(9548),m=a(86045);function h(){var e,t,a,h,u,p,g,b,f,j,N;let[y,v]=(0,r.useState)(null),[w,S]=(0,r.useState)(!0),[I,k]=(0,r.useState)(!1),[A,T]=(0,r.useState)(new Date().getFullYear()),C=(0,n.U)();(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await C.auth.getUser();if(e)try{let t=await fetch("".concat("https://creatoriq-axxp.onrender.com","/tax/").concat(e.id,"/summary?year=").concat(A)),a=await t.json();v(a)}catch(e){console.error("Error fetching tax summary:",e)}finally{S(!1)}})()},[A,C]);let F=async()=>{let{data:{user:e}}=await C.auth.getUser();if(e&&y){k(!0);try{let{data:t,error:a}=await C.from("revenue_entries").select("*").eq("user_id",e.id).gte("date","".concat(A,"-04-01")).lte("date","".concat(A+1,"-03-31")).order("date",{ascending:!0});if(a)throw a;((e,t)=>{let a=new m.uE,s=a.internal.pageSize.getWidth();a.setFontSize(22),a.setTextColor(37,99,235),a.text("CreatorIQ - Tax Report",14,22),a.setFontSize(12),a.setTextColor(100),a.text("Financial Year: ".concat(e.financialYear),14,32),a.text("Report Generated: ".concat(new Date().toLocaleDateString()),14,38),a.setFillColor(249,250,251),a.roundedRect(14,50,s-28,40,3,3,"F"),a.setFontSize(10),a.setTextColor(100),a.text("Gross Income",20,60),a.text("GST Payable",70,60),a.text("TDS Claimable",120,60),a.text("Net Income",170,60),a.setFontSize(14),a.setTextColor(30),a.text("INR ".concat(e.totalIncome.toLocaleString()),20,75),a.text("INR ".concat(e.totalGst.toLocaleString()),70,75),a.text("INR ".concat(e.totalTds.toLocaleString()),120,75),a.text("INR ".concat(e.netIncome.toLocaleString()),170,75),a.setFontSize(16),a.text("Revenue Breakdown",14,110);let r=t.map(e=>[new Date(e.date).toLocaleDateString(),e.source.replace("_"," ").toUpperCase(),e.platform.toUpperCase(),"INR ".concat(parseFloat(e.amount).toLocaleString()),"INR ".concat(parseFloat(e.gst_amount||0).toLocaleString()),"INR ".concat(parseFloat(e.tds_deducted||0).toLocaleString())]);a.autoTable({startY:120,head:[["Date","Source","Platform","Amount","GST","TDS"]],body:r,theme:"striped",headStyles:{fillColor:[37,99,235]},styles:{fontSize:9}});let l=a.lastAutoTable.finalY+20;a.setFontSize(16),a.text("AI Tax Strategy Insights",14,l),a.setFontSize(10),a.setTextColor(60);let n=l+10;e.taxSavingTips.forEach((e,t)=>{let r=a.splitTextToSize("".concat(t+1,". ").concat(e),s-28);a.text(r,14,n),n+=5*r.length+2}),a.setFontSize(8),a.setTextColor(150),a.text("This is an AI-generated summary report for estimation purposes only. Please consult a qualified Chartered Accountant (CA) for official filings.",14,285),a.save("CreatorIQ_Tax_Report_".concat(e.financialYear,".pdf"))})(y,t||[])}catch(e){console.error("Failed to generate PDF:",e),alert("Failed to generate report. Please try again.")}finally{k(!1)}}};return w?(0,s.jsx)(l.A,{children:(0,s.jsx)("div",{className:"p-12 flex justify-center",children:(0,s.jsx)("div",{className:"w-10 h-10 border-4 border-primary-100 border-t-primary-600 rounded-full animate-spin"})})}):(0,s.jsx)(l.A,{children:(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-dark-800",children:"Tax Dashboard"}),(0,s.jsxs)("p",{className:"text-dark-600",children:["Financial Year ",null==y?void 0:y.financialYear," Analysis (India)"]})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("select",{value:A,onChange:e=>T(parseInt(e.target.value)),className:"bg-white border border-gray-200 rounded-lg px-4 py-2 outline-none focus:ring-2 focus:ring-primary-500",children:[(0,s.jsx)("option",{value:2026,children:"FY 2026-27"}),(0,s.jsx)("option",{value:2025,children:"FY 2025-26"}),(0,s.jsx)("option",{value:2024,children:"FY 2024-25"})]}),(0,s.jsxs)("button",{onClick:F,disabled:I,className:"flex items-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg font-bold hover:bg-primary-700 transition-all shadow-lg shadow-primary-200 disabled:opacity-50",children:[I?(0,s.jsx)(i.A,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(d.A,{className:"w-4 h-4"}),I?"Generating...":"Generate Report"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-100",children:[(0,s.jsx)("p",{className:"text-dark-500 text-sm font-medium mb-1",children:"Total Gross Income"}),(0,s.jsxs)("h3",{className:"text-2xl font-bold text-dark-800",children:["₹",null==y||null==(e=y.totalIncome)?void 0:e.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-100",children:[(0,s.jsx)("p",{className:"text-dark-500 text-sm font-medium mb-1",children:"GST Collected (Payable)"}),(0,s.jsxs)("h3",{className:"text-2xl font-bold text-primary-600",children:["₹",null==y||null==(t=y.totalGst)?void 0:t.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-100",children:[(0,s.jsx)("p",{className:"text-dark-500 text-sm font-medium mb-1",children:"TDS Deducted (Claimable)"}),(0,s.jsxs)("h3",{className:"text-2xl font-bold text-red-600",children:["₹",null==y||null==(a=y.totalTds)?void 0:a.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-md border border-gray-100",children:[(0,s.jsx)("p",{className:"text-dark-500 text-sm font-medium mb-1",children:"Net Income (Post-TDS)"}),(0,s.jsxs)("h3",{className:"text-2xl font-bold text-green-600",children:["₹",null==y||null==(h=y.netIncome)?void 0:h.toLocaleString()]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-md border border-gray-100",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-dark-800 flex items-center gap-2",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 text-primary-600"}),"GST Registration Milestone"]}),(0,s.jsx)("p",{className:"text-dark-500 text-sm",children:"Mandatory threshold: ₹20,00,000 per annum"})]}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat((null==y||null==(u=y.gstStatus)?void 0:u.isMandatory)?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:(null==y||null==(p=y.gstStatus)?void 0:p.isMandatory)?"Mandatory":"Optional"})]}),(0,s.jsxs)("div",{className:"relative pt-1",children:[(0,s.jsxs)("div",{className:"flex mb-2 items-center justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-primary-600 bg-primary-100",children:[null==y||null==(b=y.gstStatus)||null==(g=b.progress)?void 0:g.toFixed(1),"% Reached"]})}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("span",{className:"text-xs font-semibold inline-block text-primary-600",children:"Goal: ₹20L"})})]}),(0,s.jsx)("div",{className:"overflow-hidden h-3 mb-4 text-xs flex rounded-full bg-gray-100",children:(0,s.jsx)("div",{style:{width:"".concat(Math.min((null==y||null==(f=y.gstStatus)?void 0:f.progress)||0,100),"%")},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-primary-600 transition-all duration-1000"})})]}),(0,s.jsx)("p",{className:"text-sm text-dark-600 italic",children:(null==y||null==(j=y.gstStatus)?void 0:j.isMandatory)?"⚠️ You have exceeded the threshold. Please ensure your GSTIN is updated in your profile.":"You have ₹".concat((2e6-((null==y?void 0:y.totalIncome)||0)).toLocaleString()," remaining before registration becomes mandatory.")})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries((null==y?void 0:y.quarters)||{}).map(e=>{let[t,a]=e;return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("h4",{className:"text-lg font-bold text-dark-800 mb-4",children:[t," Summary"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-dark-500",children:"Revenue:"}),(0,s.jsxs)("span",{className:"font-semibold",children:["₹",a.total.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-dark-500",children:"GST:"}),(0,s.jsxs)("span",{className:"text-primary-600 font-semibold",children:["₹",a.gst.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-dark-500",children:"TDS:"}),(0,s.jsxs)("span",{className:"text-red-600 font-semibold",children:["₹",a.tds.toLocaleString()]})]})]})]},t)})})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-dark-900 to-dark-800 p-8 rounded-2xl shadow-xl text-white",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,s.jsx)(c.A,{className:"w-5 h-5 text-primary-400"}),"AI Tax Advisor"]}),(0,s.jsx)("div",{className:"space-y-6",children:null==y||null==(N=y.taxSavingTips)?void 0:N.map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-primary-600/30 rounded-full flex items-center justify-center text-primary-400 font-bold",children:t+1}),(0,s.jsx)("p",{className:"text-sm text-gray-300 leading-relaxed",children:e})]},t))}),(0,s.jsx)("button",{className:"w-full mt-8 py-3 bg-white/10 hover:bg-white/20 rounded-xl font-bold transition-all border border-white/20",children:"Detailed AI Tax Plan"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-100 p-6 rounded-2xl",children:[(0,s.jsxs)("h4",{className:"text-blue-900 font-bold mb-2 flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-5 h-5"}),"Disclaimer"]}),(0,s.jsx)("p",{className:"text-xs text-blue-700 leading-relaxed",children:"CreatorIQ calculations are for estimation purposes only. Please consult a qualified Chartered Accountant (CA) for official Indian Income Tax filings."})]})]})]})]})})}a(30660)},27895:(e,t,a)=>{"use strict";a.d(t,{U:()=>r});var s=a(78781);function r(){return(0,s.kT)("https://bbbhnymcuqwedxofdotg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiYmhueW1jdXF3ZWR4b2Zkb3RnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwODc5NDMsImV4cCI6MjA4NTY2Mzk0M30.W4nRAsMff-64ButFX0izvdCRIENED7OYd0vcu586RsI")}}},e=>{e.O(0,[6,429,864,693,453,570,426,358],()=>e(e.s=7968)),_N_E=e.O()}]);