(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{38556:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(77584),r=t(83868),l=t(87845),n=t(27895),c=t(350);let i=(0,t(12349).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=t(15683),o=t(20751),x=t(7975),m=t(68478);function p(){var e,s,t,p,h;let[u,g]=(0,r.useState)(null),[b,j]=(0,r.useState)(!0),[N,f]=(0,r.useState)(null),v=(0,l.useRouter)(),w=(0,n.U)();(0,r.useEffect)(()=>{(async()=>{let{data:{user:e}}=await w.auth.getUser();e?(g(e),k(e.id)):v.push("/login")})()},[v,w]);let k=async e=>{try{j(!0);let s=await fetch("".concat("https://creatoriq-axxp.onrender.com","/instagram/analytics/").concat(e||"00000000-0000-0000-0000-000000000001")),t=await s.json();console.log("Instagram analytics response:",t),t.account?f(t):(t.error&&console.error("Instagram API error:",t.error),f(null))}catch(e){console.error("Failed to fetch Instagram analytics:",e),f(null)}finally{j(!1)}};if(b)return(0,a.jsx)(c.A,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-dark-600",children:"Loading Instagram analytics..."})]})})});if(!N)return(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-8",children:[(0,a.jsxs)("button",{onClick:()=>v.back(),className:"flex items-center gap-2 text-dark-600 hover:text-dark-800 mb-6",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 p-12 text-center",children:[(0,a.jsx)(d.A,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-dark-800 mb-2",children:"No Instagram Data"}),(0,a.jsx)("p",{className:"text-dark-600 mb-6",children:"Connect your Instagram account to view detailed analytics."}),(0,a.jsx)("button",{onClick:()=>v.push("/dashboard"),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-pink-600",children:"Connect Instagram"})]})]})});let{account:y,recentMedia:_,topPosts:A,stats:I}=N;return(0,a.jsx)(c.A,{children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-8 space-y-8",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:()=>v.back(),className:"flex items-center gap-2 text-dark-600 hover:text-dark-800",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl md:text-4xl font-bold text-dark-800 flex items-center gap-3",children:[(0,a.jsx)(d.A,{className:"w-10 h-10 text-purple-500"}),"Instagram Analytics"]}),(0,a.jsxs)("p",{className:"text-dark-600 mt-1",children:["@",y.username]})]})]})}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl shadow-lg p-8 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-6",children:[y.profile_picture_url&&(0,a.jsx)("img",{src:y.profile_picture_url,alt:y.username,className:"w-24 h-24 rounded-full border-4 border-white shadow-lg"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["@",y.username]}),y.biography&&(0,a.jsx)("p",{className:"text-purple-100 whitespace-pre-line",children:y.biography}),y.website&&(0,a.jsx)("a",{href:y.website,target:"_blank",rel:"noopener noreferrer",className:"text-purple-100 hover:text-white underline mt-2 inline-block",children:y.website})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Followers"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:null==(e=y.followers_count)?void 0:e.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Following"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:null==(s=y.follows_count)?void 0:s.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Posts"}),(0,a.jsx)("p",{className:"text-3xl font-bold",children:null==(t=y.media_count)?void 0:t.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Engagement Rate"}),(0,a.jsxs)("p",{className:"text-3xl font-bold",children:[null==(p=y.engagement_rate)?void 0:p.toFixed(2),"%"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-red-500"}),(0,a.jsx)("p",{className:"text-sm text-dark-600 font-medium",children:"Average Likes"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-dark-800",children:Math.round(y.avg_likes||0)}),(0,a.jsx)("p",{className:"text-xs text-dark-500 mt-1",children:"per post"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("p",{className:"text-sm text-dark-600 font-medium",children:"Average Comments"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-dark-800",children:Math.round(y.avg_comments||0)}),(0,a.jsx)("p",{className:"text-xs text-dark-500 mt-1",children:"per post"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("p",{className:"text-sm text-dark-600 font-medium",children:"Total Engagement"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-dark-800",children:null==(h=I.total_engagement)?void 0:h.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-dark-500 mt-1",children:"likes + comments"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 p-6 md:p-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-dark-800 mb-6",children:"\uD83D\uDD25 Top Performing Posts"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:null==A?void 0:A.slice(0,6).map(e=>{var s,t;return(0,a.jsxs)("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"group cursor-pointer",children:[(0,a.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100 mb-3",children:[(0,a.jsx)("img",{src:e.thumbnail_url||e.media_url,alt:e.caption||"Instagram post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-center",children:(0,a.jsx)("p",{className:"text-sm font-medium",children:"View on Instagram"})})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-dark-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-red-500"}),(null==(s=e.like_count)?void 0:s.toLocaleString())||0]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-blue-500"}),(null==(t=e.comments_count)?void 0:t.toLocaleString())||0]})]}),(0,a.jsx)("span",{className:"text-xs text-dark-500",children:e.media_product_type})]}),e.caption&&(0,a.jsx)("p",{className:"text-xs text-dark-600 mt-2 line-clamp-2",children:e.caption})]},e.id)})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-md border border-gray-100 p-6 md:p-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-dark-800 mb-6",children:"\uD83D\uDCF8 Recent Posts"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:null==_?void 0:_.map(e=>{var s,t;return(0,a.jsx)("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",className:"group cursor-pointer",children:(0,a.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:[(0,a.jsx)("img",{src:e.thumbnail_url||e.media_url,alt:e.caption||"Instagram post",className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),"VIDEO"===e.media_type&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:"VIDEO"}),"CAROUSEL_ALBUM"===e.media_type&&(0,a.jsx)("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:"ALBUM"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center space-y-1",children:[(0,a.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(null==(s=e.like_count)?void 0:s.toLocaleString())||0]}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),(null==(t=e.comments_count)?void 0:t.toLocaleString())||0]})]})})]})},e.id)})})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("button",{onClick:()=>k(u.id),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold hover:from-purple-600 hover:to-pink-600",children:"Refresh Analytics"})})]})})}},85655:(e,s,t)=>{Promise.resolve().then(t.bind(t,38556))}},e=>{e.O(0,[864,693,943,570,426,358],()=>e(e.s=85655)),_N_E=e.O()}]);